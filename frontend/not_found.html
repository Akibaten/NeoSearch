<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>The web site of searchneocities</title>
		<!-- The style.css file allows you to change the look of your web pages.
         If you include the next line in all your web pages, they will all share the same look.
         This makes it easier to make new pages for your site. -->
		<link href="/css/results.css" rel="stylesheet" type="text/css" media="all">
		<script src="/js/search.js"></script>
	</head>
	<body>
		<div id="results-page">
			<h1 style="text-align:left">
				<a href="/" style="color: black; text-decoration: none">NeoSearch</a>
			</h1>
			<span>
				<input type="text" id="search-bar-input">
				<input type="submit" id="search-button" onclick="
					let query = document.getElementById('search-bar-input').value;
					window.location.href = `/search?q=${query}&page=1`					
				" value="Search">
			</span>
			<div id="results">
			</div>
			<div id="page-navigation">
			</div>

			<!-- adds event for pressing enter in the results page search bar -->
			<script>
				var input = document.getElementById("search-bar-input");
				input.addEventListener("keypress", function(event) {
					if (event.key === "Enter") {
						event.preventDefault();
						document.getElementById("search-button").click();
					}
					});
			</script>
		</div>
		<script>
			const params = new URLSearchParams(window.location.search);
			if(params.get("q") != null){
				getSearchData(params.get("q"), params.get("page")).then((searchResults) => renderResults(searchResults));
			}
			else{
				window.location.href="/";
			}
		</script>
	</body>
</html>
